define("tiny_ai/ui",["exports","core/modal_factory","core/modal_events","tiny_ai/modal"],(function(_exports,_modal_factory,_modal_events,_modal){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Tiny AI UI.
   *
   * @module      tiny_ai/ui
   * @copyright   2023 Matt Porritt <matt.porritt@moodle.com>
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.displayModal=void 0,_modal_factory=_interopRequireDefault(_modal_factory),_modal_events=_interopRequireDefault(_modal_events),_modal=_interopRequireDefault(_modal);_exports.displayModal=async editor=>{const modalObject=await _modal_factory.default.create({type:_modal.default.TYPE,templateContext:getTemplateContext(editor),large:!0}),modalroot=await modalObject.getRoot(),root=modalroot[0],loadingSpinnerDiv=root.querySelector("#"+editor.id+"_tiny_ai_spinner"),overlayDiv=root.querySelector("#"+editor.id+"_tiny_ai_overlay"),blurDiv=root.querySelector("#"+editor.id+"_tiny_ai_blur"),currentForm=root.querySelector("form");modalObject.show(),modalroot.on(_modal_events.default.hidden,(()=>{modalObject.destroy()})),root.addEventListener("click",(e=>{const submitAction=e.target.closest('[data-action="generate"]');submitAction&&(e.preventDefault(),loadingSpinnerDiv.classList.remove("hidden"),overlayDiv.classList.remove("hidden"),blurDiv.classList.add("tiny-ai-blur"),submitAction.value="Generating...",submitAction.disabled=!0,window.console.log(currentForm))}))};const getTemplateContext=editor=>({elementid:editor.id})}));

//# sourceMappingURL=ui.min.js.map